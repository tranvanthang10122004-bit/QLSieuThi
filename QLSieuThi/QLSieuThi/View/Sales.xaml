<Window x:Class="QLSieuThi.View.Sales"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QLSieuThi.View"
        mc:Ignorable="d"
        Title="Sales" Height="450" Width="800">
    <Grid Background="AliceBlue">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Tiêu đề -->
        <TextBlock Grid.Row="0" Text="ManageShop"
                   FontSize="28" FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,10,0,20"/>

        <!-- Thanh tìm kiếm -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
            <TextBlock Text="Tìm kiếm:" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <TextBox x:Name="TimKiemTextBox" Width="200" Height="25" Margin="0,0,20,0"
                     TextChanged="TimKiemTextBox_TextChanged"/>
            <TextBlock Text="Danh mục:" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox x:Name="DanhMucComboBox" Width="150" Height="25"
                      SelectionChanged="DanhMucComboBox_SelectionChanged"/>
        </StackPanel>

        <!-- Vùng chính -->
        <Grid Grid.Row="2" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Danh sách sản phẩm -->
            <DataGrid Grid.Column="0" x:Name="DanhSachSanPham"
                      AutoGenerateColumns="False"
                      AlternatingRowBackground="#F5F5F5"
                      Background="White"
                      BorderBrush="#007ACC" BorderThickness="1"
                      CanUserAddRows="False" CanUserDeleteRows="False"
                      IsReadOnly="True" Margin="0,0,9.8,145.8"
                      SelectionChanged="DanhSachSanPham_SelectionChanged">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Mã Danh Mục" Binding="{Binding DanhMuc.MaDM}" Width="150"/>
                    <DataGridTextColumn Header="Danh mục" Binding="{Binding DanhMuc.TenDM}" Width="100"/>
                    <DataGridTextColumn Header="Giá" Binding="{Binding DanhMuc.DonGia}" Width="80"/>
                    
                    
                </DataGrid.Columns>
            </DataGrid>

            <StackPanel Grid.Column="2" Width="220" VerticalAlignment="Top">
                <TextBlock Text="Tên sản phẩm:" Margin="0,0,0,5"/>
                <TextBox x:Name="TenSanPhamTextBox" Height="25" Margin="0,0,0,10"/>

                <TextBlock Text="Số lượng:" Margin="0,0,0,5"/>
                <TextBox x:Name="SoLuongTextBox" Height="25" Margin="0,0,0,15"/>

                <!-- Nút thêm giỏ hàng -->
                <Button x:Name="NutThemGioHang" Content="Thêm vào giỏ" 
                Width="120" Height="30" 
                Background="#007ACC" Foreground="White"
                HorizontalAlignment="Left"
                Click="NutThemGioHang_Click"/>
            </StackPanel>
        </Grid>

        <!-- Giỏ hàng -->
        <GroupBox Grid.Row="2" Header="Giỏ hàng" FontWeight="Bold" Margin="0,149.8,-0.4,20">
            <StackPanel>

                <!-- Tổng tiền và nút -->
                <DataGrid x:Name="DanhSachGioHang"
                          AutoGenerateColumns="False"
                          AlternatingRowBackground="#FFF8E1"
                          Background="White"
                          BorderBrush="#FF9800" BorderThickness="1"
                          CanUserAddRows="False" CanUserDeleteRows="False"
                          IsReadOnly="True" Height="61" Margin="0,0,-0.2,10"
                          SelectionChanged="DanhSachGioHang_SelectionChanged" RenderTransformOrigin="0.5,0.5">
                    <DataGrid.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="0.247"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </DataGrid.RenderTransform>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Tên sản phẩm" Binding="{Binding SanPham.TenSanPham}" Width="150"/>
                        <DataGridTextColumn Header="Số lượng" Binding="{Binding SoLuong}" Width="70"/>
                        <DataGridTextColumn Header="Đơn giá" Binding="{Binding DonGia}" Width="80"/>
                        <DataGridTextColumn Header="Thành tiền" Binding="{Binding ThanhTien}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>

                <!-- Tổng tiền và nút -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,5">
                    <TextBlock Text="Tổng cộng:" FontWeight="Bold" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TongTienTextBlock" Text="0.00" FontWeight="Bold" Foreground="Blue" Margin="10,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="NutTrolai" Content="Trở lại" Width="100" Height="30" Background="#007ACC" Foreground="White" Click="NutTrolai_Click"
                            />
                    <Button x:Name="NutXoaSanPham" Content="Xóa sản phẩm" Width="100" Height="30" Background="#FF5555" Foreground="White"
                            Click="NutXoaSanPham_Click"/>
                    <Button x:Name="NutSuaSanPham" Content="Sửa sản phẩm" Width="100" Height="30" Background="#FFA500" Foreground="White"
                            Click="NutSuaSanPham_Click"/>
                    <Button x:Name="NutTiepTuc" Content="Tiếp tục" Width="100" Height="30" Background="#007ACC" Foreground="White"
                            Click="NutTiepTuc_Click"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>
    </Grid>
</Window>
