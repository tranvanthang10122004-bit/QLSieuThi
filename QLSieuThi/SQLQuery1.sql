CREATE TABLE VaiTro ( MaVaiTro INT PRIMARY KEY IDENTITY(1,1), TenVaiTro NVARCHAR(100) );
CREATE TABLE NguoiDung ( MaND INT PRIMARY KEY IDENTITY(1,1), HoTen NVARCHAR(100), CCCD NVARCHAR(20), SoDT NVARCHAR(15), MaHD INT NULL, MaVaiTro INT NULL, FOREIGN KEY (MaVaiTro) REFERENCES VaiTro(MaVaiTro) );
CREATE TABLE TaiKhoan ( TenTK NVARCHAR(50) PRIMARY KEY, MatKhau NVARCHAR(100), MaND INT, FOREIGN KEY (MaND) REFERENCES NguoiDung(MaND) );
CREATE TABLE DanhMuc ( MaDM INT PRIMARY KEY IDENTITY(1,1), TenDM NVARCHAR(100) );
CREATE TABLE SanPham ( MaSP INT PRIMARY KEY IDENTITY(1,1), MaDM INT, TenSP NVARCHAR(100), FOREIGN KEY (MaDM) REFERENCES DanhMuc(MaDM) );
CREATE TABLE HoaDon ( MaHoaDon INT PRIMARY KEY IDENTITY(1,1), MaND INT, NgayLap DATE, TongTien DECIMAL(18,2), FOREIGN KEY (MaND) REFERENCES NguoiDung(MaND) );
CREATE TABLE ChiTietHoaDon ( MaHD INT, MaSP INT, SoLuong INT, PRIMARY KEY (MaHD, MaSP), FOREIGN KEY (MaHD) REFERENCES HoaDon(MaHoaDon), FOREIGN KEY (MaSP) REFERENCES SanPham(MaSP) );
INSERT INTO VaiTro (TenVaiTro) VALUES (N'Admin'), (N'Nhân viên'), (N'Khách hàng');
INSERT INTO NguoiDung (HoTen, CCCD, SoDT, MaVaiTro) VALUES (N'Nguyễn Văn A', '123456789', '0905123456', 1),  (N'Trần Thị B', '987654321', '0912345678', 3);
INSERT INTO TaiKhoan (TenTK, MatKhau, MaND) VALUES (N'userA', N'123456', 1), (N'userB', N'abcdef', 2);
INSERT INTO DanhMuc (TenDM) VALUES (N'Đồ uống'), (N'Bánh kẹo'), (N'Nhu yếu phẩm');
INSERT INTO SanPham (MaDM, TenSP) VALUES (1, N'Coca Cola'), (1, N'Trà sữa'), (2, N'Bánh quy'), (3, N'Xà phòng');
INSERT INTO HoaDon (MaND, NgayLap, TongTien) VALUES (1, '2025-09-01', 50000), (2, '2025-09-02', 120000);
INSERT INTO ChiTietHoaDon (MaHD, MaSP, SoLuong) VALUES (1, 1, 2),  (1, 3, 1),  (2, 2, 3),  (2, 4, 2); 